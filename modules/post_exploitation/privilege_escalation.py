# privilege_escalation.py
import platform
import ctypes
import sys
def escalate_privileges():
    if platform.system() != "Windows":
        print("La Privilege Escalation Ã¨ supportata solo su Windows.")
        return

    # Controlla se il programma Ã¨ in esecuzione come amministratore
    if not is_admin():
        print("ðŸš« Non sei un amministratore!")
        return
    
    import ctypes
    ctypes.windll.shell32.ShellExecuteW(
        None, "runas", "cmd.exe", None, None, 1)

def is_admin():
    try:
        return ctypes.windll.shell32.IsUserAnAdmin()
    except:
        return False

if not is_admin():
    # rilancio me stesso con privilegi elevati
    ctypes.windll.shell32.ShellExecuteW(
        None, "runas", sys.executable, __file__, None, 1)
    sys.exit(0)

# Se arrivo qui, sono admin
print("âœ… Eseguito come Amministratore!")
# ... qui il tuo codice privilegiato ...
