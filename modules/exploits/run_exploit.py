import subprocess
import os

def run_c_exploit():
    print("‚öôÔ∏è Compilazione dell'exploit C...")

    module_dir = os.path.dirname(os.path.abspath(__file__))
    exploit_c = os.path.join(module_dir, "exploit.c")
    exploit_bin = os.path.join(module_dir, "exploit")

    try:
        # Compilazione
        subprocess.run(["gcc", exploit_c, "-o", exploit_bin], check=True)
        print("‚úÖ Compilazione completata.")

        # Esecuzione
        print("üöÄ Avvio exploit...")
        subprocess.run([exploit_bin])
    except subprocess.CalledProcessError as e:
        print("‚ùå Errore durante la compilazione o esecuzione.")
        print(e)
